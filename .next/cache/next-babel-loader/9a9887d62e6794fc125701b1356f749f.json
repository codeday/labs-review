{"ast":null,"code":"import getConfig from 'next/config';\nimport { sign } from 'jsonwebtoken';\nconst {\n  serverRuntimeConfig\n} = getConfig();\nexport default (async (req, res) => {\n  const {\n    password,\n    base,\n    table,\n    initialState,\n    resultStates\n  } = req.body;\n  if (password !== serverRuntimeConfig.appPassword) return res.send('bad password');\n  return res.send(sign({\n    base,\n    table,\n    initialState,\n    resultStates\n  }, serverRuntimeConfig.appSecret));\n});","map":{"version":3,"sources":["/home/x/VCS/github.com/codeday/labs-review/src/pages/api/link.js"],"names":["getConfig","sign","serverRuntimeConfig","req","res","password","base","table","initialState","resultStates","body","appPassword","send","appSecret"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,aAAtB;AACA,SAASC,IAAT,QAAqB,cAArB;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAA0BF,SAAS,EAAzC;AAEA,gBAAe,OAAOG,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,IAAZ;AAAkBC,IAAAA,KAAlB;AAAyBC,IAAAA,YAAzB;AAAuCC,IAAAA;AAAvC,MAAwDN,GAAG,CAACO,IAAlE;AAEA,MAAIL,QAAQ,KAAKH,mBAAmB,CAACS,WAArC,EAAkD,OAAOP,GAAG,CAACQ,IAAJ,CAAS,cAAT,CAAP;AAClD,SAAOR,GAAG,CAACQ,IAAJ,CAASX,IAAI,CAAC;AAAEK,IAAAA,IAAF;AAAQC,IAAAA,KAAR;AAAeC,IAAAA,YAAf;AAA6BC,IAAAA;AAA7B,GAAD,EAA8CP,mBAAmB,CAACW,SAAlE,CAAb,CAAP;AACD,CALD","sourcesContent":["import getConfig from 'next/config';\nimport { sign } from 'jsonwebtoken';\n\nconst { serverRuntimeConfig } = getConfig();\n\nexport default async (req, res) => {\n  const { password, base, table, initialState, resultStates } = req.body;\n\n  if (password !== serverRuntimeConfig.appPassword) return res.send('bad password');\n  return res.send(sign({ base, table, initialState, resultStates }, serverRuntimeConfig.appSecret));\n}\n"]},"metadata":{},"sourceType":"module"}